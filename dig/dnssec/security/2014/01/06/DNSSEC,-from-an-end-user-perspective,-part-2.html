<!DOCTYPE html>
<html class="direction--ltr"lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>DNSSEC, from an end-user perspective, part 2 | Jump ESP, jump!</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="DNSSEC, from an end-user perspective, part 2" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In our previous blog post, we have discussed some of the threats against current DNS systems, where the result was that the victim landed on a different resource/website as he/she originally supposed to visit. Since this is not a guide for DNS server operators about DNSSEC implementation, let&#39;s jump to the user side and see what you should know if you visit a website where DNSSEC validation fails (like the test site http://www.dnssec-failed.org/) and you use a DNS server which validates the DNSSEC responses (e.g., 8.8.8.8 - Google public DNS server): So far, so good :-) The malicious attacker&#39;s evil plan has failed. But what should you see when the server is protected with DNSSEC, and the DNSSEC response is valid/trusted? Please note that this &quot;green key&quot; stuff is for experimental purposes only. I hope the users should not have to look for another SSL-like padlock in their browser in the future. The critical thing here is that the site has been rendered by the browser, and the response is protected by DNSSEC, thus eliminating lots of threats. When you visit a site that is protected by DNSSEC, but your DNS server does not validate the DNSSEC, the site will be served and rendered in your browser. It does not matter if it has untrusted or invalid DNSSEC records. This is the same experience what you have today with no DNSSEC at all: OK, so we, as end-users, need sites/domains which are protected with DNSSEC, and a DNS server which validates the DNSSEC records. We have the DNS server (thx Google!), so let&#39;s find some popular sites which are using DNSSEC! To demonstrate my 133t h4cking skills, here is a small bash script. You give a file with the list of domains as a first parameter to the bash script, and it will give you back the areas protected with DNSSEC. #!/bin/bash dig . DNSKEY | grep -Ev &#39;^($|;)&#39; &gt; root.keys while read line do if dig +sigchase +trusted-key=root.keys $line. A @8.8.8.8 | grep --quiet &quot;DNSSEC validation is ok: SUCC&quot;; then echo $line fi done &lt; $1 Alexa was not kind enough to give me a recent list of top sites in text format, so I have used http://moz.com/top500 for this test. The results were quite shocking; the first result was at TOP40: gov.uk - but when you visit gov.uk via browser, it is redirected to a subdomain that is not protected with DNSSEC, so this kind of behavior is considered as FAIL. TOP69: nih.gov  - so ironically, the winner is the National Institute of Health :P Other interesting one where:" />
<meta property="og:description" content="In our previous blog post, we have discussed some of the threats against current DNS systems, where the result was that the victim landed on a different resource/website as he/she originally supposed to visit. Since this is not a guide for DNS server operators about DNSSEC implementation, let&#39;s jump to the user side and see what you should know if you visit a website where DNSSEC validation fails (like the test site http://www.dnssec-failed.org/) and you use a DNS server which validates the DNSSEC responses (e.g., 8.8.8.8 - Google public DNS server): So far, so good :-) The malicious attacker&#39;s evil plan has failed. But what should you see when the server is protected with DNSSEC, and the DNSSEC response is valid/trusted? Please note that this &quot;green key&quot; stuff is for experimental purposes only. I hope the users should not have to look for another SSL-like padlock in their browser in the future. The critical thing here is that the site has been rendered by the browser, and the response is protected by DNSSEC, thus eliminating lots of threats. When you visit a site that is protected by DNSSEC, but your DNS server does not validate the DNSSEC, the site will be served and rendered in your browser. It does not matter if it has untrusted or invalid DNSSEC records. This is the same experience what you have today with no DNSSEC at all: OK, so we, as end-users, need sites/domains which are protected with DNSSEC, and a DNS server which validates the DNSSEC records. We have the DNS server (thx Google!), so let&#39;s find some popular sites which are using DNSSEC! To demonstrate my 133t h4cking skills, here is a small bash script. You give a file with the list of domains as a first parameter to the bash script, and it will give you back the areas protected with DNSSEC. #!/bin/bash dig . DNSKEY | grep -Ev &#39;^($|;)&#39; &gt; root.keys while read line do if dig +sigchase +trusted-key=root.keys $line. A @8.8.8.8 | grep --quiet &quot;DNSSEC validation is ok: SUCC&quot;; then echo $line fi done &lt; $1 Alexa was not kind enough to give me a recent list of top sites in text format, so I have used http://moz.com/top500 for this test. The results were quite shocking; the first result was at TOP40: gov.uk - but when you visit gov.uk via browser, it is redirected to a subdomain that is not protected with DNSSEC, so this kind of behavior is considered as FAIL. TOP69: nih.gov  - so ironically, the winner is the National Institute of Health :P Other interesting one where:" />
<link rel="canonical" href="https://httpscolonforwardslashforwardslashwwwdotzoltanbalazsdotcom.com/dig/dnssec/security/2014/01/06/DNSSEC,-from-an-end-user-perspective,-part-2.html" />
<meta property="og:url" content="https://httpscolonforwardslashforwardslashwwwdotzoltanbalazsdotcom.com/dig/dnssec/security/2014/01/06/DNSSEC,-from-an-end-user-perspective,-part-2.html" />
<meta property="og:site_name" content="Jump ESP, jump!" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-01-06T15:54:34+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="DNSSEC, from an end-user perspective, part 2" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2014-01-06T15:54:34+00:00","datePublished":"2014-01-06T15:54:34+00:00","description":"In our previous blog post, we have discussed some of the threats against current DNS systems, where the result was that the victim landed on a different resource/website as he/she originally supposed to visit. Since this is not a guide for DNS server operators about DNSSEC implementation, let&#39;s jump to the user side and see what you should know if you visit a website where DNSSEC validation fails (like the test site http://www.dnssec-failed.org/) and you use a DNS server which validates the DNSSEC responses (e.g., 8.8.8.8 - Google public DNS server): So far, so good :-) The malicious attacker&#39;s evil plan has failed. But what should you see when the server is protected with DNSSEC, and the DNSSEC response is valid/trusted? Please note that this &quot;green key&quot; stuff is for experimental purposes only. I hope the users should not have to look for another SSL-like padlock in their browser in the future. The critical thing here is that the site has been rendered by the browser, and the response is protected by DNSSEC, thus eliminating lots of threats. When you visit a site that is protected by DNSSEC, but your DNS server does not validate the DNSSEC, the site will be served and rendered in your browser. It does not matter if it has untrusted or invalid DNSSEC records. This is the same experience what you have today with no DNSSEC at all: OK, so we, as end-users, need sites/domains which are protected with DNSSEC, and a DNS server which validates the DNSSEC records. We have the DNS server (thx Google!), so let&#39;s find some popular sites which are using DNSSEC! To demonstrate my 133t h4cking skills, here is a small bash script. You give a file with the list of domains as a first parameter to the bash script, and it will give you back the areas protected with DNSSEC. #!/bin/bash dig . DNSKEY | grep -Ev &#39;^($|;)&#39; &gt; root.keys while read line do if dig +sigchase +trusted-key=root.keys $line. A @8.8.8.8 | grep --quiet &quot;DNSSEC validation is ok: SUCC&quot;; then echo $line fi done &lt; $1 Alexa was not kind enough to give me a recent list of top sites in text format, so I have used http://moz.com/top500 for this test. The results were quite shocking; the first result was at TOP40: gov.uk - but when you visit gov.uk via browser, it is redirected to a subdomain that is not protected with DNSSEC, so this kind of behavior is considered as FAIL. TOP69: nih.gov  - so ironically, the winner is the National Institute of Health :P Other interesting one where:","headline":"DNSSEC, from an end-user perspective, part 2","mainEntityOfPage":{"@type":"WebPage","@id":"https://httpscolonforwardslashforwardslashwwwdotzoltanbalazsdotcom.com/dig/dnssec/security/2014/01/06/DNSSEC,-from-an-end-user-perspective,-part-2.html"},"url":"https://httpscolonforwardslashforwardslashwwwdotzoltanbalazsdotcom.com/dig/dnssec/security/2014/01/06/DNSSEC,-from-an-end-user-perspective,-part-2.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" />
  <link rel="stylesheet" href="/assets/css/magnific-popup.css"><link type="application/atom+xml" rel="alternate" href="https://httpscolonforwardslashforwardslashwwwdotzoltanbalazsdotcom.com/feed.xml" title="Jump ESP, jump!" /><script src="https://code.jquery.com/jquery-3.2.0.min.js"></script> 
  <script src="/assets/js/jquery.magnific-popup.js"></script>
</head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Jump ESP, jump!<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
  <div class="author-box">


<img src="
    https://gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=256
" class="author-avatar" alt="Avatar" />
<div class="description">Because Google started to delete hacking related blog posts  without using a single brain cell, I had to learn just another framework. Thx Google </div>

</div>


<div class="post">
  <h1 class="post-title">DNSSEC, from an end-user perspective, part 2</h1>
  
  <div class="post-tags">
      
  </div>
  
  <div class="post-date">
    Published on 06 Jan 2014
    
  </div>
  
  <div style=""><a href="http://jumpespjump.blogspot.hu/2013/12/dnssec-from-end-user-perspective-part-1.html">In our previous blog post</a>, we have discussed some of the threats against current DNS systems, where the result was that the victim landed on a different resource/website as he/she originally supposed to visit.</div>
<div style="">
</div>
<div style="">Since this is not a guide for DNS server operators about DNSSEC implementation, let's jump to the user side and see what you should know if you visit a website where DNSSEC validation fails (like the test site <a href="http://www.dnssec-failed.org/" target="_blank">http://www.dnssec-failed.org/</a>) and you use a DNS server which validates the DNSSEC responses (e.g., 8.8.8.8 - Google public DNS server):</div>
<div class="separator" style=""><a href="https://z6543.github.io/_img/dnssec_notreachable.png" src="https://z6543.github.io/_img/dnssec_notreachable.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="" src="https://z6543.github.io/_img/dnssec_notreachable.png" width="400" /></a></div>
<div style="">So far, so good :-) The malicious attacker's evil plan has failed. But what should you see when the server is protected with DNSSEC, and the DNSSEC response is valid/trusted?</div>
<div class="separator" style=""><a href="https://z6543.github.io/_img/DNSSEC_valid.png" src="https://z6543.github.io/_img/DNSSEC_valid.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="" src="https://z6543.github.io/_img/DNSSEC_valid.png" width="400" /></a></div>
<div style="">Please note that this <a href="https://addons.mozilla.org/en-us/firefox/addon/dnssec-validator/" target="_blank">"green key" stuff</a> is for experimental purposes only. I hope the users should not have to look for another SSL-like padlock in their browser in the future. The critical thing here is that the site has been rendered by the browser, and the response is protected by DNSSEC, thus eliminating lots of threats.</div>
<div style="">
</div>
<div style="">When you visit a site that is protected by DNSSEC, but your DNS server does not validate the DNSSEC, the site will be served and rendered in your browser. It does not matter if it has untrusted or invalid DNSSEC records. This is the same experience what you have today with no DNSSEC at all:</div>
<div class="separator" style=""><a href="https://z6543.github.io/_img/dnssec_untr.png" src="https://z6543.github.io/_img/dnssec_untr.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="" src="https://z6543.github.io/_img/dnssec_untr.png" width="400" /></a></div>
<div style="">OK, so we, as end-users, need sites/domains which are protected with DNSSEC, and a DNS server which validates the DNSSEC records. We have the DNS server (thx Google!), so let's find some popular sites which are using DNSSEC!</div>
<div class="separator" style=""><a href="https://z6543.github.io/_img/44540147.jpg" src="https://z6543.github.io/_img/44540147.jpg" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="" src="https://z6543.github.io/_img/44540147.jpg" width="320" /></a></div>
<div style="">To demonstrate my 133t h4cking skills, here is a small bash script. You give a file with the list of domains as a first parameter to the bash script, and it will give you back the areas protected with DNSSEC.</div>
<div style="">
</div>
<div style=""></div>
<pre class="prettyprint linenums lang-bash">#!/bin/bash
dig . DNSKEY | grep -Ev '^($|;)' &gt; root.keys
while read line
do
    if dig +sigchase +trusted-key=root.keys $line. A @8.8.8.8 | grep --quiet "DNSSEC validation is ok: SUCC"; then
        echo $line
    fi
done &lt; $1
</pre>
<div style="">
</div>
<div style="">Alexa was not kind enough to give me a recent list of top sites in text format, so I have used <a href="http://moz.com/top500">http://moz.com/top500</a> for this test.</div>
<div style="">
</div>
<div style="">The results were quite shocking; the first result was at TOP40: <a href="http://gov.uk/">gov.uk</a> - but when you visit gov.uk via browser, it is redirected to a subdomain that is not protected with DNSSEC, so this kind of behavior is considered as FAIL.</div>
<div style="">
</div>
<div style="">TOP69: <a href="http://nih.gov/">nih.gov</a>  - so ironically, the winner is the National Institute of Health :P</div>
<div style="">
Other interesting one where:

</div>
<div style=""><a href="http://mozilla.org/">mozilla.org</a> - FAIL </div>
<div style=""><a href="http://cdc.gov/">cdc.gov</a> - FAIL</div>
<div style=""><a href="http://nasa.gov/">nasa.gov</a> - FAIL :(</div>
<div style=""><a href="http://ca.gov/">ca.gov</a>  - California homepage, don't mess with Arnie!</div>
<div style=""><a href="http://noaa.gov/">noaa.gov</a> - National Oceanic and Atmospheric Administration :)</div>
<div style=""><a href="http://berkeley.edu/">berkeley.edu</a> - thank god the world of universities is saved</div>
<div style=""><a href="http://loc.gov/">loc.gov</a> - FAIL</div>
<div style=""><a href="http://whitehouse.gov/">whitehouse.gov</a> - FAIL …</div>
<div style="">
</div>
<div style="">I think I have never ever visited these websites before, except the Berkeley one. If you can find a financial institution which website's domain is protected by DNSSEC, let me know. I was not able to find one… For example, paypal.com is a bad example. The main domain is protected with DNSSEC, but not the www.paypal.com.</div>
<div style="">
</div>
<div style="">In the next part of our DNSSEC series, I will write about the threats eliminated by DNSSEC and some other exciting things.</div>

</div>





<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2024/03/01/VPN-Snakeoil.html">
            Personal VPN services are snake-oil
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2023/04/05/Just_use_Jekyll.html">
            "Just" migrate to Jekyll ...
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/09/16/Google.html">
            So Long Google, and Thanks for All the Fish
          </a>
        </h3>
      </li>
    
  </ul>
</div>




  




<script>
  let i = 0;
  const text = '';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();

  // Image modal
  var $imgs = [];
  $('img').each(function(idx) {
    var obj = {
      src: $(this).attr('src')
    }
    $imgs.push(obj);
    var elem = $(this);
    $(this).click(function() {
      $('.modal').magnificPopup('open', idx);
    });
  });

  $('.modal').magnificPopup({
    items: $imgs,
    type: 'image',
    closeOnContentClick: true,
    mainClass: 'mfp-img-mobile',
    image: {
      verticalFit: true
    }
    
  });
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
